# 깔끔한 코드로 리팩토링하기
- 중복된 코드 조각이 늘면 유지보수 비용도 증가하고 변경에 대한 리스크가 늘어남
- 코드를 이해하는 비용 또한 상당함
- 낮은 중복성과 높은 명확성은 좋은 단위 테스트를 만들면 도달할 수 있다.

## 작은 리팩토링
### 리팩토링의 기회
- 상당히 빽빽하고 꽤 많은 로직을 담고 있다.
- 다섯개가 넘는 테스트 케이스를 추가 했었다.

### 메서드 추출: 두번째로 중요한 리팩토링 친구
- 리팩토링의 가장 중요한 친구는 이름짓기
- 좋은 이름은 좋은 의도를 전달하기 가장 좋은 수단
- 코드를 이리저리 옮기면 기존기능이 쉽게 깨진다.
- 자신감을 가지고 코드를 변경할 수 있어야 하고 지금까지 알려지지 않은 교활한 작은 결함들이 나오지 않으리라는 확신을 가져야한다.
- 작은 코드 변경이 있을 때 테스트 집합들을 빠르게 실행할 수 있다. 
- 충분한 테스트가 없으면 코드를 변경하기 어렵다. 
- 테스트 코드가 없이 변경하게되면 매우 높은 리스크가 발생한다.

## 메서드를 위한 더 좋은 집 찾기
- 데메테르의 법칙 - 최소 지식의 원칙


## 과한 리팩토링
### 보상: 명확하고 테스트 가능한 단위들
- 각 도우미 메서드는 명확하고 고립된 방식으로 잘 표현되어 있다.


### 성능 염려: 그러지 않아도 된다
- 성능이 즉시 문제되지 않는다면 어설픈 최적화 노력으로 시간을 낭비하기보다 코드를 깔끔하게 유지하자
- 최적화된 코드는 코드 가독성이 낮고 유지보수 비용이 증가하고 설계 또한 유연하지 않음
- 깔끔한 설계는 성능을 위해 최적화할 때 즉시 대응할 수 있는 최선의 보호막이다.
